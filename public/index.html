<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lapa Casa Hostel ‚Äî Bienvenid@s</title>
  <meta name="description" content="Reserva camas, paga online y gestion√° tu estad√≠a en Lapa Casa Hostel." />
  <style>
    :root{ --brand:#F03DDB; --fg:#111827; --muted:#6b7280; --line:#e5e7eb; --bg:#ffffff; --radius:16px; --shadow:0 10px 20px rgba(0,0,0,.06) }
    *{ box-sizing:border-box }
    body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif; color:var(--fg); background:linear-gradient(180deg,#fff,#fff8fb) }
    header{ border-bottom:1px solid var(--line); background:linear-gradient(180deg,#fff,#fff8fb) }
    .wrap{ max-width:1100px; margin:0 auto; padding:16px }
    .top{ display:flex; align-items:center; justify-content:space-between; gap:12px }
    .logo{ font-weight:900; letter-spacing:.2px }
    nav a{ text-decoration:none; color:var(--fg); padding:8px 10px; border-radius:10px }
    nav a.cta{ background:var(--brand); color:#fff; font-weight:800 }
    main{ padding:18px 16px }
    .hero{ max-width:1100px; margin:0 auto; display:grid; grid-template-columns:1.2fr 1fr; gap:18px }
    .card{ background:#fff; border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow) }
    .pad{ padding:18px }
    h1{ font-size:clamp(28px,5vw,44px); line-height:1.1; margin:8px 0 }
    p.lead{ color:var(--muted); font-size:clamp(14px,2.8vw,18px) }
    .btn{ display:inline-block; text-decoration:none; background:var(--brand); color:#fff; padding:12px 16px; border-radius:14px; font-weight:800 }
    .btn.ghost{ background:#fff; color:var(--fg); border:1px solid var(--line) }
    .grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; max-width:1100px; margin:18px auto 0 }
    .feat h3{ margin:0 0 6px 0 }
    .muted{ color:var(--muted) }
    footer{ margin-top:24px; border-top:1px solid var(--line); background:#fafafa }
    .status{ font-family:ui-monospace,Menlo,Consolas,monospace; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:8px; padding:4px 8px; display:inline-block }
    @media (max-width:900px){ .hero{ grid-template-columns:1fr } .grid{ grid-template-columns:1fr } }
  </style>
</head>
<body>
  <header>
    <div class="wrap top">
      <div class="logo">üè† Lapa Casa Hostel</div>
      <nav>
        <a href="/book/" class="cta">Reservar</a>
        <a href="/pago-exitoso-test/">Pago</a>
        <a href="/admin/">Admin</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="card"><div class="pad">
        <h1>Tu cama en Santa Teresa, RJ</h1>
        <p class="lead">Disponibilidad en vivo, bloqueo <b>HOLD</b> anti-overbooking y pago con <b>Stripe</b> o <b>Mercado Pago</b>.</p>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
          <a class="btn" href="/book/">Reservar ahora</a>
          <a class="btn ghost" href="#como-funciona">C√≥mo funciona</a>
          <span id="health" class="status">status: ‚Ä¶</span>
        </div>
      </div></div>

      <div class="card"><div class="pad">
        <h3 style="margin:0 0 8px 0">Pr√≥ximos pasos</h3>
        <ol style="margin:0 0 8px 18px">
          <li>Eleg√≠ fechas y camas.</li>
          <li>Cre√° un <b>HOLD</b> (bloqueo temporal).</li>
          <li>Pag√° online y listo ‚úî</li>
        </ol>
        <p class="muted" style="margin:6px 0 0 0">Confirmaci√≥n autom√°tica v√≠a webhooks a Google Sheets.</p>
      </div></div>
    </section>

    <section id="como-funciona" class="grid">
      <div class="card feat"><div class="pad">
        <h3>Disponibilidad real</h3>
        <p class="muted">Lee Google Sheets y respeta HOLDs para evitar dobles reservas.</p>
      </div></div>
      <div class="card feat"><div class="pad">
        <h3>Pagos simples</h3>
        <p class="muted">Stripe (tarjeta) o Mercado Pago (PIX/boleta/tarjeta) con retorno a la web.</p>
      </div></div>
      <div class="card feat"><div class="pad">
        <h3>Admin m√≠nimo</h3>
        <p class="muted">Login b√°sico, health/diag y eventos (opcional).</p>
      </div></div>
    </section>
  </main>

  <footer>
    <div class="wrap" style="text-align:center; padding:16px">
      ¬© Lapa Casa Hostel ‚Äî Santa Teresa, RJ ¬∑ <a href="/book/">Reservar</a>
    </div>
  </footer>

  <script>
    (async () => {
      try{
        const r = await fetch("/api/health",{headers:{Accept:"application/json"}});
        const j = await r.json();
        const ok = j && j.ok === true;
        document.getElementById("health").textContent = ok ? "status: OK" : "status: error";
      }catch{
        document.getElementById("health").textContent = "status: offline";
      }
    })();
  </script>
</body>
</html>
